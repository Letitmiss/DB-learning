
# MongoDB详细操作2 查


## Find
```
var persons = [{
	name:"jim",
	age:25,
	email:"75431457@qq.com",
	c:89,m:96,e:87,
	country:"USA",
	books:["JS","C++","EXTJS","MONGODB"]
},
{
	name:"tom",
	age:25,
	email:"214557457@qq.com",
	c:75,m:66,e:97,
	country:"USA",
	books:["PHP","JAVA","EXTJS","C++"]
},
{
	name:"lili",
	age:26,
	email:"344521457@qq.com",
	c:75,m:63,e:97,
	country:"USA",
	books:["JS","JAVA","C#","MONGODB"]
},
{
	name:"zhangsan",
	age:27,
	email:"2145567457@qq.com",
	c:89,m:86,e:67,
	country:"China",
	books:["JS","JAVA","EXTJS","MONGODB"]
},
{
	name:"lisi",
	age:26,
	email:"274521457@qq.com",
	c:53,m:96,e:83,
	country:"China",
	books:["JS","C#","PHP","MONGODB"]
},
{
	name:"wangwu",
	age:27,
	email:"65621457@qq.com",
	c:45,m:65,e:99,
	country:"China",
	books:["JS","JAVA","C++","MONGODB"]
},
{
	name:"zhaoliu",
	age:27,
	email:"214521457@qq.com",
	c:99,m:96,e:97,
	country:"China",
	books:["JS","JAVA","EXTJS","PHP"]
},
{
	name:"piaoyingjun",
	age:26,
	email:"piaoyingjun@uspcat.com",
	c:39,m:54,e:53,
	country:"Korea",
	books:["JS","C#","EXTJS","MONGODB"]
},
{
	name:"lizhenxian",
	age:27,
	email:"lizhenxian@uspcat.com",
	c:35,m:56,e:47,
	country:"Korea",
	books:["JS","JAVA","EXTJS","MONGODB"]
},
{
	name:"lixiaoli",
	age:21,
	email:"lixiaoli@uspcat.com",
	c:36,m:86,e:32,
	country:"Korea",
	books:["JS","JAVA","PHP","MONGODB"]
},
{
	name:"zhangsuying",
	age:22,
	email:"zhangsuying@uspcat.com",
	c:45,m:63,e:77,
	country:"Korea",
	books:["JS","JAVA","C#","MONGODB"]
}]
for(var i = 0;i<persons.length;i++){
	db.persons.insert(persons[i])
}
var persons = db.persons.find({name:"jim"})
while(persons.hasNext()){
	obj = persons.next();
        print(obj.books.length)
} 
```
### 只是查询name,country
```
MongoDB Enterprise > db.persons.find({},{_id:0,name:1,country:1})  # id会默认显示所以_id设置为0 ,条件为{}时所有
{ "name" : "jim", "country" : "USA" }
{ "name" : "tom", "country" : "USA" }
{ "name" : "lili", "country" : "USA" }
{ "name" : "zhangsan", "country" : "China" }
{ "name" : "lisi", "country" : "China" }
{ "name" : "wangwu", "country" : "China" }
{ "name" : "zhaoliu", "country" : "China" }
{ "name" : "piaoyingjun", "country" : "Korea" }
{ "name" : "lizhenxian", "country" : "Korea" }
{ "name" : "lixiaoli", "country" : "Korea" }
{ "name" : "zhangsuying", "country" : "Korea" }
```
 
### 查询条件
1. $lt <, $lte <= , $gt > , $gte >= ,$ne !=
* 查询年龄在25到27之间
```
MongoDB Enterprise > db.persons.find({age:{$gte:25},age:{$lte:27}},{_id:0,name:1,age:1}) #或的关系
{ "name" : "jim", "age" : 25 }
{ "name" : "tom", "age" : 25 }
{ "name" : "lili", "age" : 26 }
{ "name" : "zhangsan", "age" : 27 }
{ "name" : "lisi", "age" : 26 }
{ "name" : "wangwu", "age" : 27 }
{ "name" : "zhaoliu", "age" : 27 }
{ "name" : "piaoyingjun", "age" : 26 }
{ "name" : "lizhenxian", "age" : 27 }
{ "name" : "lixiaoli", "age" : 21 }
{ "name" : "zhangsuying", "age" : 22 }
MongoDB Enterprise > db.persons.find({age:{$gte:25,$lte:27}},{_id:0,name:1,age:1}) # 且的关系
{ "name" : "jim", "age" : 25 }
{ "name" : "tom", "age" : 25 }
{ "name" : "lili", "age" : 26 }
{ "name" : "zhangsan", "age" : 27 }
{ "name" : "lisi", "age" : 26 }
{ "name" : "wangwu", "age" : 27 }
{ "name" : "zhaoliu", "age" : 27 }
{ "name" : "piaoyingjun", "age" : 26 }
{ "name" : "lizhenxian", "age" : 27 }
MongoDB Enterprise > 
```
* 查询不是韩国学生的数学成绩
```
MongoDB Enterprise > db.persons.find({country:{$ne:"Korea"}},{_id:0,country:1,m:1})
{ "m" : 96, "country" : "USA" }
{ "m" : 66, "country" : "USA" }
{ "m" : 63, "country" : "USA" }
{ "m" : 86, "country" : "China" }
{ "m" : 96, "country" : "China" }
{ "m" : 65, "country" : "China" }
{ "m" : 96, "country" : "China" }
```
### 包含和不包含
* $in和$nin    只能作用于数组,不能作用与其他对象
* 查出是中国或美国的学生
```
MongoDB Enterprise > db.persons.find({country:{$in:["USA","China"]}},{_id:0,country:1,m:1})
{ "m" : 96, "country" : "USA" }
{ "m" : 66, "country" : "USA" }
{ "m" : 63, "country" : "USA" }
{ "m" : 86, "country" : "China" }
{ "m" : 96, "country" : "China" }
{ "m" : 65, "country" : "China" }
{ "m" : 96, "country" : "China" }
```
* 查出不是中国和美国的学生
```
MongoDB Enterprise > db.persons.find({country:{$nin:["USA","China"]}},{_id:0,country:1,m:1})
{ "m" : 54, "country" : "Korea" }
{ "m" : 56, "country" : "Korea" }
{ "m" : 86, "country" : "Korea" }
{ "m" : 63, "country" : "Korea" }

```
### OR
* 查询语文成绩大于85或者英语大于90的学生信息
```
MongoDB Enterprise > db.persons.find({$or:[{c:{$gt:85}},{e:{$gt:90}}]},{_id:0,name:1,c:1,e:1})
{ "name" : "jim", "c" : 89, "e" : 87 }
{ "name" : "tom", "c" : 75, "e" : 97 }
{ "name" : "lili", "c" : 75, "e" : 97 }
{ "name" : "zhangsan", "c" : 89, "e" : 67 }
{ "name" : "wangwu", "c" : 45, "e" : 99 }
{ "name" : "zhaoliu", "c" : 99, "e" : 97 }
```
### null
* 

## 分页排序



## 游标

## 其他
