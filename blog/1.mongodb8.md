


# MongoDB的启动,备份,锁,用户管理

## 启动项
|启动项| 描述 |
|----|----|
|--dbpath| 指定数据库的目录,windows默认是c:\data\db|
|--port|指定端口|
|--fork|用守护进程的方式启动mongodb|
|--logpath|指定用日志的输出路径,默认是控制台|
|--config|指定启动项的文件路径|
|--auth|用户认证方式启动数据库|

```
lfg1000708009:/home/mongdb/mongodb-linux-3.4.10/conf # vi mongod.conf 

port = 12345
dbpath = data
logpath = log/mongod.log
fork = true

```
1. 很多其他启动项,需要查看文档

## 备份

### 导出数据
* 利用mongoexport
-d 指明使用的库
-c 指明要导出的表
-o 指明要导出的文件名
-csv 制定导出的csv格式
-q 过滤导出
--type <json|csv|tsv>
* 将persons导出
```
lfg1000708009:/bin # ./mongoexport --host 127.0.0.1 --port 12345 -d gaocong -c persons -o ../myfiles/persons.json
lfg1000708009:/home/mongdb/mongodb-linux-3.4.10/myfiles # vim persons.json   # 查看文件

{"_id":{"$oid":"5a20ee54eeb9a93949137e1e"},"name":"jim","age":25.0,"email":"75431457@qq.com","c":89.0,"m":96.0,"e":87.0,"country":"USA","books":["JS","C++","EXTJS","MONGODB","ORACLE"],"size":5.0,"school":[{"school":"K","score":"A"},{"school":"L","score":"B"},{"school":"J","score":"A+"}]}
{"_id":{"$oid":"5a20ee54eeb9a93949137e1f"},"name":"tom","age":25.0,"email":"214557457@qq.com","c":75.0,"m":66.0,"e":97.0,"country":"USA","books":["PHP","JAVA","EXTJS","C++"],"size":4.0}
{"_id":{"$oid":"5a20ee54eeb9a93949137e20
......
```



